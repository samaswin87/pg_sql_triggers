<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
  <h2 style="margin: 0;">All Triggers</h2>
  <%= link_to "Generate New Trigger", new_generator_path, class: "btn btn-success" %>
</div>

<% if @triggers.any? %>
  <table>
    <thead>
      <tr>
        <th>Trigger Name</th>
        <th>Table</th>
        <th>Version</th>
        <th>Status</th>
        <th>Source</th>
        <th>Environment</th>
        <th>Created</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @triggers.each do |trigger| %>
        <tr>
          <td><strong><%= trigger.trigger_name %></strong></td>
          <td><%= trigger.table_name %></td>
          <td><%= trigger.version %></td>
          <td>
            <% if trigger.enabled %>
              <span class="badge badge-success">Enabled</span>
            <% else %>
              <span class="badge badge-danger">Disabled</span>
            <% end %>
          </td>
          <td><span class="badge badge-info"><%= trigger.source %></span></td>
          <td><%= trigger.environment.presence || "all" %></td>
          <td><%= trigger.created_at.strftime("%Y-%m-%d") if trigger.created_at %></td>
          <td>
            <%= link_to "View", trigger_path(trigger), class: "btn btn-primary", style: "padding: 0.25rem 0.5rem; font-size: 0.875rem;" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <div style="background: #e7f3ff; border-left: 4px solid #007bff; padding: 1.5rem; border-radius: 4px;">
    <h3 style="margin-top: 0;">No triggers found</h3>
    <p style="margin-bottom: 1rem;">Get started by generating your first trigger using the form-based wizard.</p>
    <%= link_to "Generate New Trigger", new_generator_path, class: "btn btn-primary" %>
  </div>
<% end %>
